{% extends "base.html" %}
{% load static %}

{% block title %}Set New Password | Cozy Coaches{% endblock %}

{% block content %}
<div class="container" style="padding:80px 0; max-width:600px;">
    <div class="p-4 p-md-5 rounded-4 shadow-lg"
         style="background:rgba(0,0,0,0.8); backdrop-filter:blur(8px);">

        <h2 class="text-center text-light fw-bold mb-4">Set a New Password</h2>

        {% if token_fail %}
            <p class="text-danger text-center fw-bold">This link has expired or is invalid.</p>
        {% else %}
            <form method="POST">
                {% csrf_token %}
                {{ form.non_field_errors }}

                <div class="mb-3">
                    <label class="form-label text-light">New Password</label>
                    <input type="password" name="password1" class="form-control" required>
                    {% for error in form.password1.errors %}
                        <div class="text-danger small">{{ error }}</div>
                    {% endfor %}
                </div>

                <div class="mb-4">
                    <label class="form-label text-light">Confirm Password</label>
                    <input type="password" name="password2" class="form-control" required>
                    {% for error in form.password2.errors %}
                        <div class="text-danger small">{{ error }}</div>
                    {% endfor %}
                </div>

                <button type="submit"
                        class="btn w-100 fw-bold py-2"
                        style="background:#800020; color:white; border-radius:8px;">
                    Update Password
                </button>
            </form>
        {% endif %}

    </div>
</div>
{% endblock %}
